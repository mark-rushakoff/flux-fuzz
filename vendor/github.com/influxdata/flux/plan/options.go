package plan

// Option is an option to configure the behavior of the planner.
type Option interface {
	apply(*planner)
}

type optionFunc func(*planner)

func (opt optionFunc) apply(p *planner) {
	opt(p)
}

// WithDefaultMemoryLimit sets the default memory limit for plans generated by the planner.
// If the query spec explicitly sets a memory limit, that limit is used instead of the default.
func WithDefaultMemoryLimit(memBytes int64) Option {
	return optionFunc(func(p *planner) {
		p.defaultMemoryLimit = memBytes
	})
}
